include section.pug

+sec('WORK')#art
  .px-5.max-w-full(class='md:container')
    .fixed.w-screen.h-screen.inset-x-0.inset-y-0.transition-opacity.bg-black.z-50.py-16.overflow-hidden.overscroll-none(
      x-ref='modal'
      :class='{"opacity-1": selected, "opacity-0 pointer-events-none": !selected}'
      @click='iClose()'
      @keyup.escape.window='iClose()'
      @i-close.window='iClose()')

      .fixed.flex.top-0.right-0.w-16.h-16.cursor-pointer
        svg.m-auto.fill-current.text-gray-700(class='w-1/2 h-1/2' viewBox='0 0 100 100' alt='close')
          g(transform='rotate(45, 50, 50)')
            rect(width='100' height='20' y='40')
            rect(width='20' height='100' x='40')

      iframe.w-full.h-full.text-white.m-auto(
        :src='selected && selected + ".html"'
        @load='iloaded = true')

    .grid.grid-cols-1.gap-8(class='md:grid-cols-3 lg:grid-cols-4')
      each f in htmlWebpackPlugin.options.covers
        .cursor-pointer(
          @click.prevent=`iOpen("${f}")`
          data-aos='fade-up')

          img.lazy.w-full.border.border-black.graiscale.transition(
            class='hover:border-white'
            draggable='false'
            alt=f
            src=require(`./tiny/${f}_tiny`)
            data-src=require(`./covers/${f}`))

    .mb-16(class='lg:mb-32')
